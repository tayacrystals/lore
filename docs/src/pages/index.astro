---
import { Icon } from "astrodocs/components";
import "astrodocs/styles/global.css";
import "astrodocs/styles/prose.css";
import config from "virtual:astrodocs/config";

const primaryHue = config.primaryHue;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="A beautiful documentation theme for Astro. Fast, accessible, and easy to customize." />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>AstroDocs</title>
    <style set:html={`:root { --fd-hue: ${primaryHue}; }`}></style>
    <script is:inline>
      (function () {
        const stored = localStorage.getItem("theme");
        if (
          stored === "dark" ||
          (!stored && window.matchMedia("(prefers-color-scheme: dark)").matches)
        ) {
          document.documentElement.classList.add("dark");
        }
      })();
    </script>
  </head>
  <body class="min-h-screen bg-fd-background text-fd-foreground">
    <!-- Header -->
    <header class="sticky top-0 z-40 border-b border-fd-border bg-fd-background/80 backdrop-blur-lg">
      <div class="max-w-6xl mx-auto flex items-center justify-between h-14 px-6">
        <a href="/" class="flex items-center gap-2 font-semibold text-[15px]">
          <Icon name="lucide:book-open" class="w-5 h-5 text-fd-primary" />
          <span>AstroDocs</span>
        </a>
        <nav class="flex items-center gap-4">
          <a href="/docs" class="text-sm text-fd-muted-foreground hover:text-fd-foreground transition-colors">Docs</a>
          <a
            href="https://github.com"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center w-8 h-8 rounded-md hover:bg-fd-muted transition-colors text-fd-muted-foreground hover:text-fd-foreground"
            aria-label="GitHub"
          >
            <Icon name="lucide:github" class="w-4 h-4" />
          </a>
          <button
            id="theme-toggle"
            class="inline-flex items-center justify-center w-8 h-8 rounded-md hover:bg-fd-muted transition-colors text-fd-muted-foreground hover:text-fd-foreground"
            aria-label="Toggle dark mode"
          >
            <Icon name="lucide:sun" class="w-4 h-4 hidden dark:block" />
            <Icon name="lucide:moon" class="w-4 h-4 block dark:hidden" />
          </button>
        </nav>
      </div>
    </header>

    <!-- Hero -->
    <main>
      <section class="relative overflow-hidden">
        <!-- Gradient background -->
        <div class="absolute inset-0 -z-10">
          <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[500px] bg-fd-primary/5 rounded-full blur-3xl"></div>
        </div>

        <div class="max-w-4xl mx-auto px-6 pt-24 pb-20 text-center">
          <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-fd-border bg-fd-muted/60 text-xs font-medium text-fd-muted-foreground mb-6">
            <span class="w-1.5 h-1.5 rounded-full bg-fd-primary"></span>
            Built with Astro
          </div>

          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold tracking-tight text-fd-foreground">
            Beautiful docs,<br />
            <span class="text-fd-primary">zero config</span>
          </h1>

          <p class="mt-6 text-lg text-fd-muted-foreground max-w-2xl mx-auto leading-relaxed">
            A documentation theme for Astro that gives you everything out of the box. Fast, accessible, and designed to get out of your way.
          </p>

          <div class="mt-10 flex flex-col sm:flex-row items-center justify-center gap-3">
            <a
              href="/docs/getting-started/installation"
              class="inline-flex items-center gap-2 px-6 py-2.5 rounded-lg bg-fd-primary text-fd-primary-foreground font-medium text-sm hover:opacity-90 transition-opacity"
            >
              Get Started
              <Icon name="lucide:arrow-right" class="w-4 h-4" />
            </a>
            <a
              href="/docs"
              class="inline-flex items-center gap-2 px-6 py-2.5 rounded-lg border border-fd-border text-fd-foreground font-medium text-sm hover:bg-fd-muted transition-colors"
            >
              Browse Docs
            </a>
          </div>
        </div>
      </section>

      <!-- Features -->
      <section class="max-w-5xl mx-auto px-6 pb-24">
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-5">
          <div class="rounded-xl border border-fd-border bg-fd-card p-6">
            <div class="w-9 h-9 rounded-lg bg-fd-primary/10 flex items-center justify-center mb-4">
              <Icon name="lucide:zap" class="w-4.5 h-4.5 text-fd-primary" />
            </div>
            <h3 class="font-semibold text-fd-foreground mb-1.5">Fast by Default</h3>
            <p class="text-sm text-fd-muted-foreground leading-relaxed">Static-first with zero client JS by default. Full-text search powered by Pagefind.</p>
          </div>

          <div class="rounded-xl border border-fd-border bg-fd-card p-6">
            <div class="w-9 h-9 rounded-lg bg-fd-primary/10 flex items-center justify-center mb-4">
              <Icon name="lucide:blocks" class="w-4.5 h-4.5 text-fd-primary" />
            </div>
            <h3 class="font-semibold text-fd-foreground mb-1.5">MDX Components</h3>
            <p class="text-sm text-fd-muted-foreground leading-relaxed">Callouts, tabs, steps, cards, accordions, and code blocks with syntax highlighting.</p>
          </div>

          <div class="rounded-xl border border-fd-border bg-fd-card p-6">
            <div class="w-9 h-9 rounded-lg bg-fd-primary/10 flex items-center justify-center mb-4">
              <Icon name="lucide:sun-moon" class="w-4.5 h-4.5 text-fd-primary" />
            </div>
            <h3 class="font-semibold text-fd-foreground mb-1.5">Dark Mode</h3>
            <p class="text-sm text-fd-muted-foreground leading-relaxed">Light and dark themes with automatic system detection. Smooth transitions throughout.</p>
          </div>

          <div class="rounded-xl border border-fd-border bg-fd-card p-6">
            <div class="w-9 h-9 rounded-lg bg-fd-primary/10 flex items-center justify-center mb-4">
              <Icon name="lucide:monitor-smartphone" class="w-4.5 h-4.5 text-fd-primary" />
            </div>
            <h3 class="font-semibold text-fd-foreground mb-1.5">Responsive</h3>
            <p class="text-sm text-fd-muted-foreground leading-relaxed">Fully responsive layout with collapsible sidebar, mobile navigation, and adaptive typography.</p>
          </div>

          <div class="rounded-xl border border-fd-border bg-fd-card p-6">
            <div class="w-9 h-9 rounded-lg bg-fd-primary/10 flex items-center justify-center mb-4">
              <Icon name="lucide:panel-left" class="w-4.5 h-4.5 text-fd-primary" />
            </div>
            <h3 class="font-semibold text-fd-foreground mb-1.5">Auto Sidebar</h3>
            <p class="text-sm text-fd-muted-foreground leading-relaxed">Sidebar generated from your file structure with configurable groups, ordering, and nested sections.</p>
          </div>

          <div class="rounded-xl border border-fd-border bg-fd-card p-6">
            <div class="w-9 h-9 rounded-lg bg-fd-primary/10 flex items-center justify-center mb-4">
              <Icon name="lucide:palette" class="w-4.5 h-4.5 text-fd-primary" />
            </div>
            <h3 class="font-semibold text-fd-foreground mb-1.5">Customizable</h3>
            <p class="text-sm text-fd-muted-foreground leading-relaxed">Tailwind CSS v4 with OKLCH color tokens. Override any style with custom CSS.</p>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="border-t border-fd-border">
      <div class="max-w-6xl mx-auto px-6 py-8 flex items-center justify-between text-sm text-fd-muted-foreground">
        <p>Built with AstroDocs</p>
        <a href="/docs" class="hover:text-fd-foreground transition-colors">Documentation</a>
      </div>
    </footer>

    <script>
      document.getElementById("theme-toggle")?.addEventListener("click", () => {
        const isDark = document.documentElement.classList.toggle("dark");
        localStorage.setItem("theme", isDark ? "dark" : "light");
      });
    </script>
  </body>
</html>
