---
import { Icon } from "astro-icon/components";

interface Props {
  type?: "note" | "warning" | "tip" | "danger";
  title?: string;
}

const { type = "note", title } = Astro.props;

const styles = {
  note: {
    bg: "bg-blue-500/5 dark:bg-blue-500/10",
    border: "border-blue-500/20",
    iconColor: "text-blue-500",
    icon: "lucide:info",
  },
  warning: {
    bg: "bg-amber-500/5 dark:bg-amber-500/10",
    border: "border-amber-500/20",
    iconColor: "text-amber-500",
    icon: "lucide:triangle-alert",
  },
  tip: {
    bg: "bg-emerald-500/5 dark:bg-emerald-500/10",
    border: "border-emerald-500/20",
    iconColor: "text-emerald-500",
    icon: "lucide:lightbulb",
  },
  danger: {
    bg: "bg-red-500/5 dark:bg-red-500/10",
    border: "border-red-500/20",
    iconColor: "text-red-500",
    icon: "lucide:octagon-alert",
  },
};

const c = styles[type];
---

<div class:list={[
  "my-4 flex gap-3 rounded-lg border px-4 py-3",
  title ? "items-start" : "items-center",
  c.border, c.bg,
]}>
  <Icon name={c.icon} class={`w-5 h-5 shrink-0 ${c.iconColor}`} />
  <div class="min-w-0 flex-1">
    {title && <p class={`font-medium text-sm mb-1 ${c.iconColor}`}>{title}</p>}
    <div class="callout-content text-sm text-fd-foreground/90">
      <slot />
    </div>
  </div>
</div>
